<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="ISO-8859-1">
	<title>Add New Employee</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
	<div th:replace="header"></div>
	<div align="center">
		<h3>Add New Employee Details</h3>
		<br />
		<form action="#" th:action="@{/save}" th:object="${Employees}" method="post">
			<table border="0" cellpadding="10">
				<!-- <tr>
					<td>Employee ID:</td>
					<td><input type="text" th:field="*{id}" /></td>	
				</tr> -->
				<tr>
					<td>First Name:</td>
					<td><input type="text" th:field="*{First_name}" required="required" /></td>
				</tr>
				<tr>
					<td>Last Name:</td>
					<td><input type="text" th:field="*{Last_name}" required="required" /></td>
				</tr>
				<tr>
					<td>Designation:</td>
					<td><input type="text" th:field="*{Designation}" /></td>
				</tr>
				<tr>
					<td>Responsibility:</td>
					<td><input type="text" th:field="*{Responsibility}" /></td>
				</tr>
					<tr>
					<td>Email:</td>
					<td><input type="text" th:field="*{Email}" required="required" /></td>
				</tr>
				<tr>
					<td>Phone Number:</td>
					<td><input type="text" th:field="*{PhoneNo}" required="required" /></td>
				</tr>
				<tr>
					<td>Address:</td>
					<td><input type="text" th:field="*{Address}" required="required" /></td>
				</tr>
				<tr>
					<td>Password:</td>
					<td><input type="text" th:field="*{Password}"  required="required"/></td>
				</tr>
				<tr>
					<td>Role:</td>
					<td>
						<select th:field="*{Role}">
							<option th:value="ADMIN" th:text="ADMIN">ADMIN</option>
							<option th:value="MANAGER" th:text="MANAGER">MANAGER</option>
							<option th:value="EMPLOYEE" th:text="EMPLOYEE">EMPLOYEE</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>Reported To Person:</td>
					<td>
						<input type="hidden" th:field="*{ReportToid}" id="ReportedPersonId">
						<input type="hidden" th:field="*{ReportToPerson}" id="ReportedPersonName">
						<select id="personSelection">
							<option disabled selected>Select Any</option>
							<option th:each="Employees : ${Employeeslist}" th:value="${Employees.id} + '~' + ${Employees.First_name}" th:text="${Employees.First_name}"></option>
						</select>
					</td>
				</tr>
				<tr align="center">
					<td><button type="submit">Submit</button></td>
					<td><input type="button" onclick="window.history.back();" value="Cancel"></td>
				</tr>
			</table>
		</form>
	</div>
</body>
<script type="text/javascript">
	
	$("#ReportedPersonId").val(0);
	$("#ReportedPersonName").val("Root");
	$("#personSelection").change(function() {
		var reportedPersonData = $("#personSelection").val();
		var str = reportedPersonData.split("~");
		$("#ReportedPersonId").val(str[0]);
		$("#ReportedPersonName").val(str[1]);
	});
	
</script>
</html>
